---
sidebar_label: "Quickstart"
sidebar_position: 2
---

# Quickstart: Smart Account âš¡ï¸

In this guide, we will create a smart account and mint an NFT with Biconomy and Node.js. Check out the full code at the end.

:::info
Please note that this tutorial assumes you have Node.js installed and have working knowledge of it. ğŸ§ 
:::

## 1. Environment set up ğŸ› ï¸

We will create an npm project to get started. 

```bash
mkdir biconomy-sa
cd biconomy-sa
npm init -y
npm i --save-dev @types/node tslib
```

Install biconomy sdk package using npm.

```bash
npm i @biconomy-devx/account
```

Create the following tsconfig.json (TypeScript config):
```typescript
{
  "compilerOptions": {
    "target": "es5",
    "module": "commonjs",
    "declaration": true,
    "outDir": "./lib",
    "strict": true,
    "esModuleInterop": true
  },
  "include": ["./**/*.ts"]
}
```

> The **Account package** will help you with creating **Smart Account** and an interface with them to send transactions.
The same package can be used to also import the paymaster and bundler.

## 2. Create a smart account ğŸŒŸ


The **Externally Owned Account (EOA)** corresponding to the private key will serve as the owner of the Smart Account we create. You can get the private key from wallets like MetaMask, TrustWallet, Coinbase Wallet, etc. ğŸ”‘

Create an index.ts file, copy the following code in it and replace the `PRIVATE_KEY`.

> Be sure to never publicly expose your private key publicly. If possible, store it using an environment variable.

```ts
import { Hex, createWalletClient, encodeFunctionData, http, parseAbi, zeroAddress} from "viem";
import { privateKeyToAccount } from "viem/accounts";
import { polygonMumbai } from "viem/chains";
import { createSmartAccountClient} from "@biconomy-devx/account";

export const createAccountAndMintNft = async () => {
  // ----- 1. Generate EOA from private key
  const account = privateKeyToAccount("PRIVATE_KEY");
  const client = createWalletClient({
    account,
    chain: polygonMumbai,
    transport: http(),
  });
  const eoa = client.account.address;
  console.log(`EOA address: ${eoa}`);

  // ------ 2. Create biconomy smart account instance
  const smartAccount = await createSmartAccountClient({
    signer: client,
    bundlerUrl: "https://bundler.biconomy.io/api/v2/80001/nJPK7B3ru.dd7f7861-190d-41bd-af80-6877f74b8f44",
  });
  const scwAddress = await smartAccount.getAccountAddress();
  console.log("SCW Address", scwAddress);

};
createAccountAndMintNft();

```

Next, run the following command: 

```bash
npx ts-node index.ts
```


You should see EOA and the smart account address in the console.

```bash
EOA address: 0x7d4EcAc73A5574447E0F38b8451DC9B29D8Fd083
SCW Address 0x4dF23B78543F5c2F9CBCDF09956288B3e97bb9a4
```


Smart accounts are designed with a pre-determined address known prior to deployment. Users transfer funds to this address and then the actual deployment transaction is internally batched with the first transaction that is done by that smart Account. Additionally, the paymaster can be used for this to sponsor this transaction.


:::caution
Before continuing, now that we have our Smart Account address, we need to fund it with some test network tokens! Since we are using the Polygon Mumbai network, head over to the [Polygon Faucet](https://faucet.polygon.technology/), paste in your smart account address, and get some test tokens! If you skip this step, you might run into the [AA21 didn't pay prefund error](/troubleshooting/commonerrors.md)! ğŸ’¸
:::

Once you have tokens available, follow the next steps.

## 3. Execute your first transaction ğŸš€ 

Let's create your first transaction

- `to`: The address towards which this interaction is directed.
- `data`: For the mint function we will pass the `nftData` created using `encodeFunctionData`.
- `value`: For the mint function this won't be needed. Depending on the transaction, you can pass the value.

Add the following code in the script above at the bottom of the `createAccountAndMintNft` function.

```typescript
try {
  const nftAddress = "0x1758f42Af7026fBbB559Dc60EcE0De3ef81f665e";
  const parsedAbi = parseAbi(["function safeMint(address _to)"]);
  const nftData = encodeFunctionData({
    abi: parsedAbi,
    functionName: "safeMint",
    args: [scwAddress as Hex],
  });

  // ------ 4. Send transaction
  const transactionResponse = await smartAccount.sendTransaction(
    {
      to: nftAddress,
      data: nftData,
    }
  );
  const { transactionHash } = await transactionResponse.waitForTxHash();
  console.log("transactionHash", transactionHash);
} catch (error: unknown) {
    if (error instanceof Error) {
      console.error("Transaction Error:", error.message);
    }
}
```

1. We create a transaction object.
2. We send the `transaction` to our bundler.
3. We store the response in a variable called `transactionResponse`.
4. We retrieve the transaction detail by calling `userOpResponse.waitForTxHash()`.

_To wait for a specific number of network confirmations before getting the value, use `wait()` with a number argument.
For instance, `transactionResponse.wait(5)` waits for 5 confirmations before returning the value._

Check out the long transaction details available now in your console! You just created and executed your first userOps using the Biconomy SDK. The entire Biconomy crew is sending you a big round of applause! ğŸ‘ğŸ‘ğŸ»ğŸ‘ğŸ¼ğŸ‘ğŸ½ğŸ‘ğŸ¾ğŸ‘ğŸ¿

You can also view the latest transaction events on the [Polygon Mumbai Testnet Explorer](https://mumbai.polygonscan.com/address/0x1758f42Af7026fBbB559Dc60EcE0De3ef81f665e#events).

<details>
  <summary>View Complete Code</summary>

```typescript
import { Hex, createWalletClient, encodeFunctionData, http, parseAbi, zeroAddress} from "viem";
import { privateKeyToAccount } from "viem/accounts";
import { polygonMumbai } from "viem/chains";
import { createSmartAccountClient} from "@biconomy-devx/account";

export const createAccountAndMintNft = async () => {
  // ----- 1. Generate EOA from private key
  const account = privateKeyToAccount("PRIVATE_KEY);
  const client = createWalletClient({
    account,
    chain: polygonMumbai,
    transport: http(),
  });
  const eoa = client.account.address;
  console.log(`EOA address: ${eoa}`);

  // ------ 2. Create biconomy smart account instance
  const smartAccount = await createSmartAccountClient({
    signer: client,
    bundlerUrl: "https://bundler.biconomy.io/api/v2/80001/nJPK7B3ru.dd7f7861-190d-41bd-af80-6877f74b8f44",
  });
  const scwAddress = await smartAccount.getAccountAddress();
  console.log("SCW Address", scwAddress);

  // ------ 3. Generate transaction data
  const nftAddress = "0x1758f42Af7026fBbB559Dc60EcE0De3ef81f665e";
  const parsedAbi = parseAbi(["function safeMint(address _to)"]);
  const nftData = encodeFunctionData({
    abi: parsedAbi,
    functionName: "safeMint",
    args: [scwAddress as Hex],
  });

  // ------ 4. Send transaction
  const { waitForTxHash } = await smartAccount.sendTransaction(
    {
      to: nftAddress,
      data: nftData,
    }
  );

  const { transactionHash } = await waitForTxHash();
  console.log("transactionHash", transactionHash);

};
createAccountAndMintNft();
```

</details>
If you run into any errors, check out [troubleshooting](/troubleshooting/commonerrors) for common errors.

ğŸ‰ **Congratulations on completing the quickstart!**

To dive deeper, check out more [use cases](/tutorials) and follow [this guide for gasless transactions](/tutorials/sendGasless).
